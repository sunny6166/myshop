(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(67)},39:function(e,t,a){},57:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(31),o=a.n(l),c=a(2),s=a(13),i=(a(39),a(4)),m=a(5),u=a(8),p=a(6),h=a(16),d=a(7),E=a(3),b=a.n(E),f=(a(57),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleInputChange=function(){a.setState({query:a.search.value})},a.compareValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(a,n){if(!a.hasOwnProperty(e)||!n.hasOwnProperty(e))return 0;var r="string"===typeof a[e]?a[e].toUpperCase():a[e],l="string"===typeof n[e]?n[e].toUpperCase():n[e],o=0;return r>l?o=1:r<l&&(o=-1),"desc"===t?-1*o:o}},a.state={product:[],query:"",key:"brand"},a.sortBy=a.sortBy.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"sortBy",value:function(e){this.setState({key:e.target.id})}},{key:"componentDidMount",value:function(){var e=this;b.a.defaults.headers.common.Authorization=localStorage.getItem("jwtToken"),b.a.get("http://localhost:5000/api/products").then(function(t){e.setState({product:t.data})}).catch(function(t){401===t.response.status&&e.props.history.push("/login")})}},{key:"render",value:function(){var e=this,t=this.state.product.map(function(e){return r.a.createElement("div",{className:"products"},r.a.createElement("div",{className:"product"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"content-left"},r.a.createElement("div",{className:"Product-Image-Wrapper"}),r.a.createElement("h3",null,r.a.createElement("div",null,r.a.createElement("b",null,"Brand: "),r.a.createElement("span",null,e.brand))),r.a.createElement("div",{className:"content-info"},r.a.createElement("div",null,r.a.createElement("b",null,"Name: "),r.a.createElement("span",null,e.name)),r.a.createElement("div",null,r.a.createElement("b",null,"Color: "),r.a.createElement("span",null,e.color))),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/show/".concat(e._id)},"Details"))))))});return r.a.createElement("div",{className:"container-main"},r.a.createElement("div",{className:"panel-body"},r.a.createElement("h4",null,r.a.createElement(c.b,{to:"/create"},"Add New Product"))),r.a.createElement("form",null,r.a.createElement("input",{placeholder:"Search for...",ref:function(t){return e.search=t},onChange:this.handleInputChange})),r.a.createElement("h3",null,"Sort:"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Brand ",r.a.createElement("button",{type:"button",id:"brand",onClick:this.sortBy},"A-Z")," "),r.a.createElement("th",null,"Name ",r.a.createElement("button",{type:"button",id:"name",onClick:this.sortBy},"A-Z")),r.a.createElement("th",null,"Color ",r.a.createElement("button",{type:"button",id:"color",onClick:this.sortBy},"A-Z"))))),r.a.createElement("div",null,t))}}]),t}(n.Component)),v=(a(62),a(9)),g=(Object(v.b)(),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).onChange=function(t){var a=e.state;a[t.target.name]=t.target.value,e.setState(a)},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;b.a.post("http://localhost:5000/api/auth/login",{username:n,password:r}).then(function(t){localStorage.setItem("jwtToken",t.data.token),e.setState({message:""}),e.props.history.push("/")}).catch(function(t){401===t.response.status&&e.setState({message:"Login failed. Username or password not match"})})},e.state={username:"",password:"",message:""},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.message;return r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"form",onSubmit:this.onSubmit},""!==n&&r.a.createElement("div",{className:"alert",role:"alert"},n),r.a.createElement("h1",null,"Please sign in"),r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"email",placeholder:"Email address",name:"username",value:t,onChange:this.onChange,required:!0}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:a,onChange:this.onChange,required:!0}),r.a.createElement("button",{className:"btn",type:"submit"},"Login"),r.a.createElement("p",null,"Not a member? ",r.a.createElement(c.b,{to:"/register"},"Register here"))))}}]),t}(n.Component)),y=(a(63),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).onChange=function(t){var a=e.state;a[t.target.name]=t.target.value,e.setState(a)},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;b.a.post("http://localhost:5000/api/auth/register",{username:n,password:r}).then(function(t){e.props.history.push("/login")})},e.state={username:"",password:""},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"form",onSubmit:this.onSubmit},r.a.createElement("h1",null,"Register"),r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"email",placeholder:"Email address",name:"username",value:t,onChange:this.onChange,required:!0}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:a,onChange:this.onChange,required:!0}),r.a.createElement("button",{type:"submit",className:"btn"},"Register"),r.a.createElement("p",null,r.a.createElement(c.b,{to:"/Login"},"Already member"))))}}]),t}(n.Component)),C=(a(64),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).onChange=function(e){var t=a.state;t[e.target.name]=e.target.value,a.setState(t)},a.onChangeHandler=function(e){a.setState({selectedFile:e.target.files[0],loaded:0})},a.onClickHandler=function(){var e=new FormData;e.append("file",a.state.selectedFile),b.a.post("http://localhost:5000/upload",e,{}).then(function(e){console.log(e.statusText)})},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.color,l=t.brand,o=t.price;b.a.post("http://localhost:5000/api/products",{name:n,color:r,brand:l,price:o}).then(function(e){a.props.history.push("/")})},a.state={name:"",color:"",brand:"",price:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.color,n=e.brand,l=e.price;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"heading"},r.a.createElement("div",{className:"panel-heading"},r.a.createElement("h3",{className:"title"},"Add Product")),r.a.createElement("div",{className:"panel-body"},r.a.createElement("h4",null,r.a.createElement(c.b,{to:"/"},"Products")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{type:"text",name:"name",value:t,onChange:this.onChange,placeholder:"name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Color:"),r.a.createElement("input",{type:"text",name:"color",value:a,onChange:this.onChange,placeholder:"color"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Brand:"),r.a.createElement("input",{type:"text",name:"brand",value:n,onChange:this.onChange,placeholder:"brand"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Price:"),r.a.createElement("input",{type:"number",name:"price",value:l,onChange:this.onChange,placeholder:"price"})),r.a.createElement("input",{type:"file",name:"file",onChange:this.onChangeHandler}),r.a.createElement("button",{type:"button",class:"btn btn-success btn-block",onClick:this.onClickHandler},"Upload"),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"btn"},"Submit")))))}}]),t}(n.Component)),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).onChange=function(e){var t=a.state.product;t[e.target.name]=e.target.value,a.setState({product:t})},a.onSubmit=function(e){e.preventDefault();var t=a.state.product,n=t.name,r=t.color,l=t.brand;b.a.put("http://localhost:5000/api/"+a.props.match.params.id,{name:n,color:r,brand:l}).then(function(e){a.props.history.push("/show/"+a.props.match.params.id)})},a.state={product:{}},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("http://localhost:5000/api/"+this.props.match.params.id).then(function(t){e.setState({product:t.data}),console.log(e.state.product)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"heading"},r.a.createElement("div",{className:"panel-heading"},r.a.createElement("h3",{className:"panel-title"},"Edit Product")),r.a.createElement("div",{className:"panel-body"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"name"},"Name:"),r.a.createElement("input",{type:"text",name:"name",value:this.state.product.name,onChange:this.onChange,placeholder:"name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"color"},"Color:"),r.a.createElement("input",{type:"text",name:"color",value:this.state.product.color,onChange:this.onChange,placeholder:"color"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"brand"},"Brand:"),r.a.createElement("input",{type:"text",name:"brand",value:this.state.product.brand,onChange:this.onChange,placeholder:"brand"})),r.a.createElement("button",{type:"submit",className:"btn-submit"},"Submit")))),r.a.createElement("h4",null,r.a.createElement(c.b,{to:"/show/".concat(this.state.product._id)},"Return")))}}]),t}(n.Component),j=(a(65),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).getSingleProject=function(){var e=a.props.match.params;b.a.get("http://localhost:5000/api/".concat(e.id)).then(function(e){var t=e.data;a.setState(t)}).catch(function(e){console.log(e)})},a.deleteProject=function(){var e=a.props.match.params;b.a.delete("http://localhost:5000/api/".concat(e.id)).then(function(){a.props.history.push("/")}).catch(function(e){console.log(e)})},a.state={},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getSingleProject()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"product-details-container"},r.a.createElement("h1",null,this.state.brand),r.a.createElement("div",{className:"product-info"},r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("td",null,this.state.name)),r.a.createElement("tr",null,r.a.createElement("th",null,"Color"),r.a.createElement("td",null,this.state.color)),r.a.createElement("tr",null,r.a.createElement("th",null,"Price"),r.a.createElement("td",null,"$",this.state.price)))),r.a.createElement("button",{className:"btn",onClick:function(){return e.deleteProject()}},"Delete Product"),r.a.createElement("button",{className:"btn"},r.a.createElement(c.b,{to:"/"},"Back to products ")),r.a.createElement("button",{className:"btn"},r.a.createElement(c.b,{to:"/edit/".concat(this.state._id)},"Edit")))}}]),t}(n.Component)),O=(a(66),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).logout=function(){localStorage.removeItem("jwtToken"),window.location.reload()},a.state={},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"nav"},r.a.createElement("h2",null,"Shopping App"),r.a.createElement("div",null,localStorage.getItem("jwtToken")&&r.a.createElement("button",{className:"log-out-btn",onClick:this.logout},"Logout")))}}]),t}(n.Component));o.a.render(r.a.createElement(c.a,null,r.a.createElement(s.a,{component:O}),r.a.createElement("div",null,r.a.createElement(s.a,{exact:!0,path:"/",component:f}),r.a.createElement(s.a,{path:"/login",component:g}),r.a.createElement(s.a,{path:"/register",component:y}),r.a.createElement(s.a,{path:"/create",component:C}),r.a.createElement(s.a,{path:"/edit/:id",component:N}),r.a.createElement(s.a,{path:"/show/:id",component:j}))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.138ed40e.chunk.js.map